<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scoring and scoreboard caching implementation &mdash; DOMjudge 9.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/js/versionswitcher.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Appendix: Installing the example languages" href="install-language.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            DOMjudge
          </a>
              <div class="version">
                9.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-domserver.html">Installation of the DOMserver</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-judgehost.html">Installation of the judgehosts</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-workstation.html">Installation of the team workstations</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="config-basic.html">Configuring the system</a></li>
<li class="toctree-l1"><a class="reference internal" href="import.html">Adding contest data in bulk</a></li>
<li class="toctree-l1"><a class="reference internal" href="config-advanced.html">Advanced configuration topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running the contest</a></li>
<li class="toctree-l1"><a class="reference internal" href="judging.html">Judging topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop.html">Development</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick-install.html">Appendix: Quick installation checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="team.html">DOMjudge team manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="problem-format.html">Appendix: Problem format specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="shadow.html">Appendix: Running DOMjudge as a shadow system</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration-reference.html">Appendix: Configuration reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-language.html">Appendix: Installing the example languages</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scoring and scoreboard caching implementation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DOMjudge</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Scoring and scoreboard caching implementation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/DOMjudge/domjudge/blob/main/doc/manual/scoring.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scoring-and-scoreboard-caching-implementation">
<span id="scoring"></span><h1>Scoring and scoreboard caching implementation<a class="headerlink" href="#scoring-and-scoreboard-caching-implementation" title="Permalink to this heading"></a></h1>
<p>Currently, DOMjudge only supports ICPC-style ‘pass-fail’ problems, where a problem is either accepted or rejected.
In this mode, we try to follow this specification, but have some additional configuration options:
<a class="reference external" href="https://ccs-specs.icpc.io/draft/ccs_system_requirements#scoring">https://ccs-specs.icpc.io/draft/ccs_system_requirements#scoring</a></p>
<p>Key points:</p>
<ul class="simple">
<li><p>Teams are sorted by their sortorder first; this is frequently used to group teams into actual participants and other
groups (e.g. company teams, non-eligible teams, staff, etc.).</p></li>
<li><p>Then teams are sorted ascending by the sum of their problem points. Each correctly solved problems scores a
pre-defined number of points (integer, by default 1).</p></li>
<li><p>Then teams are sorted descending by either their penalty time (or runtime, can be configured at contest level). The
penalty time per problem is rounded down to the nearest minute by default, but can be configured to use second
granularity instead.</p></li>
<li><p>If two teams have the same score, they are sorted by the time of their last accepted submission.</p></li>
</ul>
<p>The scoreboard is updated in real-time, which can be a performance bottleneck when there are many teams and problems, so
we employ some caching techniques to speed it up. The scoreboard cache is implemented in two tables, <cite>scorecache</cite> and
<cite>rankcache</cite>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">scorecache</span></code> table is used to store individual scoreboard cells, i.e. information about a single team’s score for
a particular problem. Whenever a submission has completed judging, the scorecache is updated for that team and problem.
The table holds all relevant information for the team/problem combination, both for the public and restricted audience
(i.e. jury) who has full information during the freeze.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">scorecache</span></code> table is then used to compute the <code class="docutils literal notranslate"><span class="pre">rankcache</span></code> table, which holds the aggregated information for each
team in order to quickly compute the rank of each team. This is especially helpful when we want to know the rank of a
subset of teams, e.g. a single team for the single scorerow on the team’s overview page. For this, we do first compute
the teams that are definitely better than that single team based on problem points and time (either penalty time or
runtime). Then for all teams that are tied with the current team, we apply the tie breaker (time of last accepted
submission).</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install-language.html" class="btn btn-neutral float-left" title="Appendix: Installing the example languages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2004-2025 by the DOMjudge developers and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>